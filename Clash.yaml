自定义 Clash 配置示例
---
General:
  port: 7890
  socks-port: 7891
  redir-port: 7892
  allow-lan: true
  mode: Rule
  log-level: silent
  external-controller: '0.0.0.0:9090'
  secret: ''
  dns:
    enable: true
    ipv6: false
    # listen: 0.0.0.0:53
    # enhanced-mode: redir-host
    nameserver:
      - 1.2.4.8
      - 223.5.5.5
      - 114.114.114.114
      - tls://dns.rubyfish.cn:853
    fallback:
      - tls://dns.rubyfish.cn:853
      - tls://dns.google

Proxy:  # 添加额外节点，但请注意，ProxyGroup 中所有的筛选并不会获取此处提供的额外节点
- name: "韩国自建 1"
  type: ss
  server: server
  port: 443
  cipher: AEAD_CHACHA20_POLY1305
  password: "password"
  plugin: obfs
  plugin-opts:
    mode: tls # or http
    # host: bing.com
- { name: "韩国自建 2", type: vmess, server: server, port: 443, uuid: 2661b5f8-8062-34a5-9371-a44313a75b6d, alterId: 32, cipher: auto }

ProxyGroup:
- name: '香港'
  type: url-test
  content:  
    regex: '(香港)'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600

- name: '日本'
  type: url-test
  content:  # 从非 0 级的节点中筛选日本节点
    noclass: 0
    regex: '(日本)'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600

- name: '坡坡'
  type: url-test
  content:  # 从所有节点中筛选新加坡节点
    regex: '(新加坡)'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600

- name: '美国'
  type: url-test
  content:
    regex: '(美国)'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600

- name: '台湾'
  type: url-test
  content:
    regex: '(台湾)'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600

- name: '韩国'
  type: url-test
  content:  # 从所有节点中筛选韩国节点，并在最后加上 right-proxies 中的节点
    regex: '(韩国)'
    right-proxies:
      - '韩国自建 1'
      - '韩国自建 2'
  url: http://www.qualcomm.cn/generate_204
  interval: 3600
- name: "PROXY"
  type: select
  content:
    left-proxies:
      - '香港'
      - '日本'
      - '坡坡'
      - '台湾'
      - '美国'
      - '韩国'
- name: "Final"
  type: select
  content:
    left-proxies:
      - "PROXY"
      - "DIRECT"
- name: "ForeignMedia"
  type: select
  content:
    left-proxies:
      - PROXY
      - '香港'
      - '日本'
      - '坡坡'
      - '台湾'
      - '美国'
      - '韩国'
- name: "DomesticMedia"
  type: select
  content:
    left-proxies:
      - DIRECT
      - PROXY
- name: "Apple"
  type: select
  content:
    left-proxies:
      - DIRECT
      - PROXY
- name: "Hijacking"
  type: select
  content:
    left-proxies: 
      - DIRECT
      - REJECT
Rule:
source: https://github.com/wangxing840708/Clash/blob/master/Rule.yaml
